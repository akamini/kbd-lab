# 自作キーボードカタログサイト 開発タスク一覧

## 1. プロジェクト初期設定・環境構築

- [ x ] Next.js (v15) プロジェクト作成
- [x] Biome (リンター/フォーマッター) 導入と設定
- [x] shadcn/ui 導入と設定
- [ ] Drizzle ORM 導入と設定
- [ ] Cloudflare D1 の準備と接続設定
- [ ] BetterAuth 導入と設定 (Google ログイン)
- [ ] `@opennextjs/cloudflare` 導入と Cloudflare Pages デプロイ設定の初期確認

## 2. データベース設計とマイグレーション

- [ ] Drizzle ORM を用いた DB スキーマ定義
  - [ ] ユーザーテーブル
  - [ ] プロダクトテーブル (キーボード、キーキャップ、小物共通)
  - [ ] カテゴリテーブル
  - [ ] タグテーブル
  - [ ] プロダクト-タグ中間テーブル
  - [ ] お気に入りテーブル
  - [ ] (ランキング用集計テーブル - 必要に応じて)
- [ ] Drizzle Kit を用いたマイグレーションファイルの作成と実行

## 3. 認証機能の実装

- [ ] BetterAuth を用いた Google ログイン機能の実装
- [ ] ログイン状態の管理 (Context API や Zustand など)
- [ ] 認証状態に基づくページアクセス制御 (ルートガードなど)
- [ ] ユーザープロフィール情報の取得と表示 (マイページ)

## 4. コア機能実装: プロダクト関連

- [ ] プロダクト登録機能
  - [ ] 登録フォーム UI 作成 (shadcn/ui)
  - [ ] 画像アップロード機能 (Cloudflare R2 などを検討)
  - [ ] DB へのデータ保存処理 (Drizzle ORM)
- [ ] プロダクト編集機能
  - [ ] 編集フォーム UI 作成
  - [ ] DB データ更新処理
- [ ] プロダクト削除機能
  - [ ] 確認ダイアログ
  - [ ] DB データ削除処理
- [ ] プロダクト一覧表示機能
  - [ ] 各カテゴリ別一覧ページ (キーボード、キーキャップ、小物、工具)
  - [ ] ページネーション実装
  - [ ] ソート機能 (新着順、人気順、お気に入り数など)
  - [ ] 絞り込み検索 UI (タグ、価格帯など)
- [ ] プロダクト詳細表示機能
  - [ ] 詳細情報表示 UI
  - [ ] 画像ギャラリー表示
  - [ ] 関連リンク表示 (GitHub, 販売ページ)

## 5. コア機能実装: 検索機能

- [ ] タグ検索機能
  - [ ] タグクラウドまたはタグ一覧表示
  - [ ] タグ選択によるプロダクト絞り込み
- [ ] フリーワード検索機能
  - [ ] 検索窓 UI
  - [ ] プロダクト名、説明文などを対象とした検索ロジック

## 6. コア機能実装: お気に入り機能

- [ ] プロダクトへのお気に入り登録/解除ボタン UI (プロダクト詳細、一覧)
- [ ] お気に入り状態の DB 保存・更新処理
- [ ] マイページでのお気に入り一覧表示

## 7. コア機能実装: ランキング機能

- [ ] ランキング集計ロジック (お気に入り数、閲覧数など - 閲覧数は別途計測方法検討)
- [ ] ランキング表示 UI (トップページ、各一覧ページ)
- [ ] (管理機能) ランキング集計期間設定 (デイリー、ウィークリー、マンスリー)

## 8. UI/UX 実装 (shadcn/ui を活用)

- [ ] トップページ UI 作成
  - [ ] サイト概要、新着情報、おすすめプロダクト、ランキング表示
- [ ] 各一覧ページ UI 作成 (キーボード、キーキャップ、小物、工具)
- [ ] プロダクト詳細ページ UI 作成
- [ ] ユーザーページ (マイページ) UI 作成
- [ ] プロダクト登録・編集ページ UI 作成
- [ ] ヘッダー、フッター、ナビゲーション UI 作成
- [ ] レスポンシブデザイン対応 (スマートフォン、タブレット)
- [ ] 全体的なデザイントーンの統一 (シンプルかつモダン)

## 9. 管理機能実装 (サイト運営者向け)

- [ ] (別途管理画面を設けるか、特定ユーザーに権限付与するか検討)
- [ ] ユーザー管理 (アカウント停止など)
- [ ] プロダクト管理 (不適切なプロダクトの削除、編集)
- [ ] タグ管理 (追加、編集、削除)
- [ ] お知らせ機能 (作成、表示)
- [ ] アフィリエイトリンク管理 (工具ページ用)

## 10. 収益化機能実装

- [ ] 工具・便利工具一覧ページへのアフィリエイトリンク掲載機能

## 11. 非機能要件対応

- [ ] 多言語対応準備
  - [ ] i18n ライブラリ導入検討 (next-international, next-i18next など)
  - [ ] テキストリソースの外部ファイル化 (日本語)
- [ ] SEO 対策
  - [ ] 適切な HTML タグの使用 (title, meta description, h1 など)
  - [ ] 構造化データマークアップ (JSON-LD) の導入
  - [ ] `sitemap.xml` 生成機能
  - [ ] `robots.txt` 設定
  - [ ] Next.js のレンダリング戦略最適化 (SSR/SSG)
- [ ] パフォーマンス最適化
  - [ ] 画像最適化
  - [ ] コード分割
  - [ ] Lighthouse などでのパフォーマンス計測と改善
- [ ] セキュリティ対策
  - [ ] XSS, CSRF 対策の確認
  - [ ] 入力値バリデーションの徹底
  - [ ] Cloudflare, BetterAuth のセキュリティ機能活用
- [ ] プライバシーポリシー、利用規約ページの作成と表示

## 12. テスト

- [ ] Biome による静的解析の常時実行
- [ ] 主要機能の単体テスト (Vitest など)
- [ ] 主要導線の結合テスト
- [ ] (可能であれば) E2E テスト (Playwright, Cypress など)

## 13. デプロイと運用準備

- [ ] Cloudflare Pages へのデプロイパイプライン構築
- [ ] 環境変数設定 (ローカル開発用、本番用)
- [ ] カスタムドメイン設定 (Cloudflare)
- [ ] 本番環境での動作確認
- [ ] 簡単な運用マニュアル作成 (プロダクト登録方法など)

## 14. その他

- [ ] 定期的な進捗確認と課題共有
- [ ] 要件定義書との整合性確認
